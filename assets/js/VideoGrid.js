"use strict";let customRatio=!0,isHideALLVideosActive=!1,ratios=["0:0","4:3","16:9","1:1","1:2"],aspect=2,ratio=getAspectRatio();function getAspectRatio(){customRatio=0==aspect;var t=ratios[aspect].split(":");return t[1]/t[0]}function setAspectRatio(t){aspect=t,ratio=getAspectRatio(),resizeVideoMedia()}function Area(t,e,i,n,o=10){let r=0,s=0,a=t*(ratio=customRatio?.75:ratio)+2*o;for(;r<e;)s+t>i&&(s=0,a=a+t*ratio+2*o),s=s+t+2*o,r++;return!(a>n)&&t}function resizeVideoMedia(){if(isHideALLVideosActive)return;let t=document.getElementById("videoMediaContainer"),e=document.getElementsByClassName("Camera"),i=t.offsetWidth-10,n=t.offsetHeight-10,o=0,r=isHideMeActive&&t.childElementCount<=2?1:0,s=t.childElementCount-r==1,a=4*i;s&&(i-=a),resetZoom();let m=1;for(;m<5e3;){if(!1===Area(m,e.length,i,n,5)){o=m-1;break}m++}setWidth(e,o-=10,a,5,n,s),document.documentElement.style.setProperty("--vmi-wh",o/3+"px")}function resetZoom(){let t=document.querySelectorAll("video");t.forEach(t=>{t.style.transform="",t.style.transformOrigin="center"})}function setWidth(t,e,i,n,o,r){ratio=customRatio?.68:ratio;for(let s=0;s<t.length;s++)if(t[s].style.width=e+"px",t[s].style.margin=n+"px",t[s].style.height=e*ratio+"px",r){t[s].style.width=i+"px",t[s].style.height=i*ratio+"px";t[s].style.height.substring(0,t[s].style.height.length-2)>=o&&(t[s].style.height=o-2+"px")}}const MOBILE_BREAKPOINT=500,TABLET_BREAKPOINT=580,DESKTOP_BREAKPOINT=730,CUSTOM_BREAKPOINT=680,mainButtonsBar=document.querySelectorAll("#control button"),mainButtonsIcon=document.querySelectorAll("#control button i");function resizeMainButtons(){let t=window.innerWidth,e=window.innerHeight,i=0===BtnsBarPosition.selectedIndex;function n(t,e,i,n,o,r=null){r&&document.documentElement.style.setProperty("--btns-width",r),t.forEach(function(t){t.style.fontSize=e,t.style.padding=i}),n.forEach(function(t){t.style.fontSize=o})}i?e<=500?n(mainButtonsBar,"0.7rem","4px",mainButtonsIcon,"0.8rem","40px"):e<=580?n(mainButtonsBar,"0.9rem","4px",mainButtonsIcon,"1rem","45px"):e<=730?n(mainButtonsBar,"1rem","5px",mainButtonsIcon,"1.1rem","50px"):n(mainButtonsBar,"1rem","10px",mainButtonsIcon,"1.2rem","60px"):t<=500?n(mainButtonsBar,"0.7rem","4px",mainButtonsIcon,"0.8rem"):t<=580?n(mainButtonsBar,"0.9rem","4px",mainButtonsIcon,"1rem"):t<=730?n(mainButtonsBar,"1rem","5px",mainButtonsIcon,"1.1rem"):n(mainButtonsBar,"1rem","10px",mainButtonsIcon,"1.2rem")}function resizeChatRoom(){if(!rc||rc.isMobileDevice||!rc.isChatOpen||rc.isChatPinned)return;let t=window.innerWidth,e=window.innerHeight;t<=730||e<=730?rc.chatMaximize():rc.chatMinimize()}function resizeTranscriptionRoom(){if(DetectRTC.isMobileDevice||!Boolean(transcription.speechTranscription)||transcription.isHidden||transcription.isPinned)return;let t=window.innerWidth,e=window.innerHeight;t<=680||e<=680?transcription.maximize():transcription.minimize()}window.addEventListener("load",function(t){resizeVideoMedia(),resizeMainButtons(),window.onresize=function(){resizeVideoMedia(),resizeMainButtons(),resizeChatRoom(),resizeTranscriptionRoom()}},!1);